<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="<!DOCTYPE" html />
    <html>
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Markmap</title>
        <style>
          * {
            margin: 0;
            padding: 0;
          }
          #mindmap {
            display: block;
            width: 100vw;
            height: 100vh;
          }
        </style>
        <link
          rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.3-beta.4/dist/style.css"
        />
      </head>
      <body>
        <svg id="mindmap"></svg>
        <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.3-beta.4/dist/browser/index.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.3-beta.4/dist/index.js"></script>
        <script>
          (() => {
            setTimeout(() => {
              const { markmap: k, mm: N } = window,
                U = new k.Toolbar();
              U.attach(N);
              const D = U.render();
              D.setAttribute(
                'style',
                'position:absolute;bottom:20px;right:20px'
              ),
                document.body.append(D);
            });
          })();
        </script>
        <script>
          ((n, M, H, F) => {
            const G = n();
            window.mm = G.Markmap.create(
              'svg#mindmap',
              (M || G.deriveOptions)(F),
              H
            );
          })(
            () => window.markmap,
            null,
            {
              content: '4. Control de Concurrencia',
              children: [
                {
                  content: '4.1. Protocolos de Bloqueo',
                  children: [
                    {
                      content:
                        '4.1.1. Esquema sin Repetición (Datos no Repetidos)',
                      children: [
                        {
                          content:
                            'Cada localidad mantiene un <strong>gestor de bloqueos</strong>, que administra las solicitudes de bloqueo y desbloqueo de los datos almacenados en esa localidad.',
                          children: [],
                          payload: { lines: '18,20' },
                        },
                        {
                          content: '',
                          children: [
                            {
                              content:
                                '1. Una transacción que desea bloquear un dato (Q) en (L_i):',
                              children: [
                                {
                                  content:
                                    'Envía un mensaje a (L_i) solicitando el bloqueo.',
                                  children: [],
                                  payload: { lines: '23,24' },
                                },
                              ],
                              payload: { lines: '22,24', listIndex: 1 },
                            },
                            {
                              content: '2. El gestor de bloqueos en (L_i):',
                              children: [
                                {
                                  content:
                                    'Si (Q) tiene un bloqueo incompatible, pospone la solicitud.',
                                  children: [],
                                  payload: { lines: '25,26' },
                                },
                                {
                                  content:
                                    'Si no, concede el bloqueo a la localidad solicitante.',
                                  children: [],
                                  payload: { lines: '26,28' },
                                },
                              ],
                              payload: { lines: '24,28', listIndex: 2 },
                            },
                          ],
                          payload: { lines: '22,28' },
                        },
                        {
                          content:
                            'Fácil de implementar (se necesitan 1 mensaje para bloqueo y otro para desbloqueo).',
                          children: [],
                          payload: { lines: '30,32' },
                        },
                        {
                          content:
                            'Manejo complejo de bloqueos cuando hay solicitudes en muchas localidades.',
                          children: [],
                          payload: { lines: '34,36' },
                        },
                      ],
                      payload: { lines: '16,17' },
                    },
                    {
                      content: '4.1.2. Esquema de Coordinador Único',
                      children: [
                        {
                          content:
                            'Un único <strong>gestor de bloqueos</strong> en (L_i) administra todos los bloqueos.',
                          children: [],
                          payload: { lines: '40,42' },
                        },
                        {
                          content: '',
                          children: [
                            {
                              content:
                                '1. Una transacción que necesita bloquear un dato:',
                              children: [
                                {
                                  content:
                                    'Envía una solicitud al gestor de bloqueos en (L_i).',
                                  children: [],
                                  payload: { lines: '45,46' },
                                },
                              ],
                              payload: { lines: '44,46', listIndex: 1 },
                            },
                            {
                              content: '2. El gestor de bloqueos:',
                              children: [
                                {
                                  content:
                                    'Si puede conceder el bloqueo, envía un mensaje a la localidad solicitante.',
                                  children: [],
                                  payload: { lines: '47,48' },
                                },
                                {
                                  content: 'Si no, pospone la solicitud.',
                                  children: [],
                                  payload: { lines: '48,50' },
                                },
                              ],
                              payload: { lines: '46,50', listIndex: 2 },
                            },
                          ],
                          payload: { lines: '44,50' },
                        },
                        {
                          content: '',
                          children: [
                            {
                              content:
                                'Las transacciones pueden leer datos desde cualquier localidad que tenga una copia.',
                              children: [],
                              payload: { lines: '52,53' },
                            },
                            {
                              content:
                                'Las operaciones de escritura deben hacerse en todas las localidades que tengan copia.',
                              children: [],
                              payload: { lines: '53,55' },
                            },
                          ],
                          payload: { lines: '52,55' },
                        },
                        {
                          content: 'Fácil de implementar y manejar bloqueos.',
                          children: [],
                          payload: { lines: '57,59' },
                        },
                        {
                          content: '',
                          children: [
                            {
                              content: 'Cuello de botella.',
                              children: [],
                              payload: { lines: '61,62' },
                            },
                            {
                              content: 'Vulnerabilidad.',
                              children: [],
                              payload: { lines: '62,64' },
                            },
                          ],
                          payload: { lines: '61,64' },
                        },
                        {
                          content:
                            'Cada gestor administra un subconjunto de datos, reduciendo el cuello de botella pero complicando la gestión.',
                          children: [],
                          payload: { lines: '66,68' },
                        },
                      ],
                      payload: { lines: '38,39' },
                    },
                    {
                      content: '4.1.3. Protocolo de Mayoría',
                      children: [
                        {
                          content:
                            'Modificación del esquema sin repetición para datos replicados.',
                          children: [],
                          payload: { lines: '72,74' },
                        },
                        {
                          content: '',
                          children: [
                            {
                              content:
                                '1. Cada localidad tiene un <strong>gestor de bloqueos</strong>.',
                              children: [],
                              payload: { lines: '76,77', listIndex: 1 },
                            },
                            {
                              content:
                                '2. Una transacción que quiere bloquear un dato (Q):',
                              children: [
                                {
                                  content:
                                    'Envía solicitudes de bloqueo a más de la mitad de las (n) localidades donde existe (Q).',
                                  children: [],
                                  payload: { lines: '78,79' },
                                },
                              ],
                              payload: { lines: '77,79', listIndex: 2 },
                            },
                            {
                              content: '3. Cada gestor local:',
                              children: [
                                {
                                  content:
                                    'Determina si puede conceder el bloqueo (si no, lo pospone).',
                                  children: [],
                                  payload: { lines: '80,81' },
                                },
                              ],
                              payload: { lines: '79,81', listIndex: 3 },
                            },
                            {
                              content:
                                '4. La transacción no opera sobre (Q) hasta que más de la mitad de las copias estén bloqueadas.',
                              children: [],
                              payload: { lines: '81,83', listIndex: 4 },
                            },
                          ],
                          payload: { lines: '76,83' },
                        },
                        {
                          content:
                            'Manejo descentralizado de datos replicados.',
                          children: [],
                          payload: { lines: '85,87' },
                        },
                        {
                          content: '',
                          children: [
                            {
                              content: 'Complejidad en la gestión de bloqueos.',
                              children: [],
                              payload: { lines: '89,90' },
                            },
                            {
                              content:
                                'Se requieren (2(n/2 + 1)) mensajes para bloqueo y desbloqueo.',
                              children: [],
                              payload: { lines: '90,92' },
                            },
                          ],
                          payload: { lines: '89,92' },
                        },
                      ],
                      payload: { lines: '70,71' },
                    },
                    {
                      content: '4.1.4. Protocolo Preferencial',
                      children: [
                        {
                          content:
                            'Similar al protocolo de mayoría, pero prioriza las solicitudes de bloqueo compartido.',
                          children: [],
                          payload: { lines: '96,98' },
                        },
                        {
                          content: '',
                          children: [
                            {
                              content:
                                '1. \n<p data-lines="100,101"><strong>Bloqueo compartido</strong>:</p>',
                              children: [
                                {
                                  content:
                                    'Solicitar bloqueo a cualquier localidad con copia del dato.',
                                  children: [],
                                  payload: { lines: '101,103' },
                                },
                              ],
                              payload: { lines: '100,103', listIndex: 1 },
                            },
                            {
                              content:
                                '2. \n<p data-lines="103,104"><strong>Bloqueo exclusivo</strong>:</p>',
                              children: [
                                {
                                  content:
                                    'Solicitar bloqueo a todas las localidades con copia del dato.',
                                  children: [],
                                  payload: { lines: '104,106' },
                                },
                              ],
                              payload: { lines: '103,106', listIndex: 2 },
                            },
                            {
                              content:
                                '3. \n<p data-lines="106,107">Si no se puede atender la solicitud, se pospone.</p>',
                              children: [],
                              payload: { lines: '106,108', listIndex: 3 },
                            },
                          ],
                          payload: { lines: '100,108' },
                        },
                        {
                          content:
                            'Las operaciones de lectura consumen menos tiempo extra.',
                          children: [],
                          payload: { lines: '110,112' },
                        },
                        {
                          content:
                            'Las operaciones de escritura consumen más tiempo extra.',
                          children: [],
                          payload: { lines: '114,116' },
                        },
                      ],
                      payload: { lines: '94,95' },
                    },
                    {
                      content: '4.1.5. Copia Primaria',
                      children: [
                        {
                          content:
                            'Se elige una <strong>copia primaria</strong> de los datos, que reside en una localidad específica.',
                          children: [],
                          payload: { lines: '120,122' },
                        },
                        {
                          content:
                            '1. Una transacción que necesita bloquear un dato (Q):',
                          children: [
                            {
                              content:
                                'Solicita el bloqueo a la localidad primaria de (Q).',
                              children: [],
                              payload: { lines: '125,126' },
                            },
                            {
                              content:
                                'Si no puede atender la solicitud, esta se pospone.',
                              children: [],
                              payload: { lines: '126,128' },
                            },
                          ],
                          payload: { lines: '124,128', listIndex: 1 },
                        },
                        {
                          content: '',
                          children: [
                            {
                              content: 'Implementación sencilla.',
                              children: [],
                              payload: { lines: '130,131' },
                            },
                            {
                              content:
                                'Manejo unificado del control de concurrencia para datos repetidos y no repetidos.',
                              children: [],
                              payload: { lines: '131,133' },
                            },
                          ],
                          payload: { lines: '130,133' },
                        },
                        {
                          content:
                            'No se puede acceder a (Q) si la localidad primaria falla.',
                          children: [],
                          payload: { lines: '135,136' },
                        },
                      ],
                      payload: { lines: '118,119' },
                    },
                  ],
                  payload: { lines: '7,8' },
                },
              ],
              payload: { lines: '3,4' },
            },
            { colorFreezeLevel: 2 }
          );
        </script>
        <script>
          (() => {
            const { markmap: Markmap } = window;
            const svg = document.querySelector('#mindmap');
            const markmapInstance = Markmap.create(svg, null, {
              content: 'Contenido de tu mindmap aquí',
            });

            // Añadir zoom y pan
            const zoom = d3
              .zoom()
              .scaleExtent([0.5, 5]) // Limita el zoom (mínimo 0.5x y máximo 5x)
              .on('zoom', (event) => {
                svg.setAttribute('transform', event.transform);
              });

            d3.select(svg).call(zoom);
          })();
        </script>
      </body>
    </html>
    "X-UA-Compatible" content="ie=edge" />
    <title>Markmap</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      #mindmap {
        display: block;
        width: 100vw;
        height: 100vh;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.3-beta.4/dist/style.css"
    />
  </head>
  <body>
    <svg id="mindmap"></svg>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.3-beta.4/dist/browser/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.3-beta.4/dist/index.js"></script>
    <script>
      (() => {
        setTimeout(() => {
          const { markmap: k, mm: N } = window,
            U = new k.Toolbar();
          U.attach(N);
          const D = U.render();
          D.setAttribute('style', 'position:absolute;bottom:20px;right:20px'),
            document.body.append(D);
        });
      })();
    </script>
    <script>
      ((n, M, H, F) => {
        const G = n();
        window.mm = G.Markmap.create(
          'svg#mindmap',
          (M || G.deriveOptions)(F),
          H
        );
      })(
        () => window.markmap,
        null,
        {
          content: '4. Control de Concurrencia',
          children: [
            {
              content: '4.1. Protocolos de Bloqueo',
              children: [
                {
                  content: '4.1.1. Esquema sin Repetición (Datos no Repetidos)',
                  children: [
                    {
                      content:
                        'Cada localidad mantiene un <strong>gestor de bloqueos</strong>, que administra las solicitudes de bloqueo y desbloqueo de los datos almacenados en esa localidad.',
                      children: [],
                      payload: { lines: '18,20' },
                    },
                    {
                      content: '',
                      children: [
                        {
                          content:
                            '1. Una transacción que desea bloquear un dato (Q) en (L_i):',
                          children: [
                            {
                              content:
                                'Envía un mensaje a (L_i) solicitando el bloqueo.',
                              children: [],
                              payload: { lines: '23,24' },
                            },
                          ],
                          payload: { lines: '22,24', listIndex: 1 },
                        },
                        {
                          content: '2. El gestor de bloqueos en (L_i):',
                          children: [
                            {
                              content:
                                'Si (Q) tiene un bloqueo incompatible, pospone la solicitud.',
                              children: [],
                              payload: { lines: '25,26' },
                            },
                            {
                              content:
                                'Si no, concede el bloqueo a la localidad solicitante.',
                              children: [],
                              payload: { lines: '26,28' },
                            },
                          ],
                          payload: { lines: '24,28', listIndex: 2 },
                        },
                      ],
                      payload: { lines: '22,28' },
                    },
                    {
                      content:
                        'Fácil de implementar (se necesitan 1 mensaje para bloqueo y otro para desbloqueo).',
                      children: [],
                      payload: { lines: '30,32' },
                    },
                    {
                      content:
                        'Manejo complejo de bloqueos cuando hay solicitudes en muchas localidades.',
                      children: [],
                      payload: { lines: '34,36' },
                    },
                  ],
                  payload: { lines: '16,17' },
                },
                {
                  content: '4.1.2. Esquema de Coordinador Único',
                  children: [
                    {
                      content:
                        'Un único <strong>gestor de bloqueos</strong> en (L_i) administra todos los bloqueos.',
                      children: [],
                      payload: { lines: '40,42' },
                    },
                    {
                      content: '',
                      children: [
                        {
                          content:
                            '1. Una transacción que necesita bloquear un dato:',
                          children: [
                            {
                              content:
                                'Envía una solicitud al gestor de bloqueos en (L_i).',
                              children: [],
                              payload: { lines: '45,46' },
                            },
                          ],
                          payload: { lines: '44,46', listIndex: 1 },
                        },
                        {
                          content: '2. El gestor de bloqueos:',
                          children: [
                            {
                              content:
                                'Si puede conceder el bloqueo, envía un mensaje a la localidad solicitante.',
                              children: [],
                              payload: { lines: '47,48' },
                            },
                            {
                              content: 'Si no, pospone la solicitud.',
                              children: [],
                              payload: { lines: '48,50' },
                            },
                          ],
                          payload: { lines: '46,50', listIndex: 2 },
                        },
                      ],
                      payload: { lines: '44,50' },
                    },
                    {
                      content: '',
                      children: [
                        {
                          content:
                            'Las transacciones pueden leer datos desde cualquier localidad que tenga una copia.',
                          children: [],
                          payload: { lines: '52,53' },
                        },
                        {
                          content:
                            'Las operaciones de escritura deben hacerse en todas las localidades que tengan copia.',
                          children: [],
                          payload: { lines: '53,55' },
                        },
                      ],
                      payload: { lines: '52,55' },
                    },
                    {
                      content: 'Fácil de implementar y manejar bloqueos.',
                      children: [],
                      payload: { lines: '57,59' },
                    },
                    {
                      content: '',
                      children: [
                        {
                          content: 'Cuello de botella.',
                          children: [],
                          payload: { lines: '61,62' },
                        },
                        {
                          content: 'Vulnerabilidad.',
                          children: [],
                          payload: { lines: '62,64' },
                        },
                      ],
                      payload: { lines: '61,64' },
                    },
                    {
                      content:
                        'Cada gestor administra un subconjunto de datos, reduciendo el cuello de botella pero complicando la gestión.',
                      children: [],
                      payload: { lines: '66,68' },
                    },
                  ],
                  payload: { lines: '38,39' },
                },
                {
                  content: '4.1.3. Protocolo de Mayoría',
                  children: [
                    {
                      content:
                        'Modificación del esquema sin repetición para datos replicados.',
                      children: [],
                      payload: { lines: '72,74' },
                    },
                    {
                      content: '',
                      children: [
                        {
                          content:
                            '1. Cada localidad tiene un <strong>gestor de bloqueos</strong>.',
                          children: [],
                          payload: { lines: '76,77', listIndex: 1 },
                        },
                        {
                          content:
                            '2. Una transacción que quiere bloquear un dato (Q):',
                          children: [
                            {
                              content:
                                'Envía solicitudes de bloqueo a más de la mitad de las (n) localidades donde existe (Q).',
                              children: [],
                              payload: { lines: '78,79' },
                            },
                          ],
                          payload: { lines: '77,79', listIndex: 2 },
                        },
                        {
                          content: '3. Cada gestor local:',
                          children: [
                            {
                              content:
                                'Determina si puede conceder el bloqueo (si no, lo pospone).',
                              children: [],
                              payload: { lines: '80,81' },
                            },
                          ],
                          payload: { lines: '79,81', listIndex: 3 },
                        },
                        {
                          content:
                            '4. La transacción no opera sobre (Q) hasta que más de la mitad de las copias estén bloqueadas.',
                          children: [],
                          payload: { lines: '81,83', listIndex: 4 },
                        },
                      ],
                      payload: { lines: '76,83' },
                    },
                    {
                      content: 'Manejo descentralizado de datos replicados.',
                      children: [],
                      payload: { lines: '85,87' },
                    },
                    {
                      content: '',
                      children: [
                        {
                          content: 'Complejidad en la gestión de bloqueos.',
                          children: [],
                          payload: { lines: '89,90' },
                        },
                        {
                          content:
                            'Se requieren (2(n/2 + 1)) mensajes para bloqueo y desbloqueo.',
                          children: [],
                          payload: { lines: '90,92' },
                        },
                      ],
                      payload: { lines: '89,92' },
                    },
                  ],
                  payload: { lines: '70,71' },
                },
                {
                  content: '4.1.4. Protocolo Preferencial',
                  children: [
                    {
                      content:
                        'Similar al protocolo de mayoría, pero prioriza las solicitudes de bloqueo compartido.',
                      children: [],
                      payload: { lines: '96,98' },
                    },
                    {
                      content: '',
                      children: [
                        {
                          content:
                            '1. \n<p data-lines="100,101"><strong>Bloqueo compartido</strong>:</p>',
                          children: [
                            {
                              content:
                                'Solicitar bloqueo a cualquier localidad con copia del dato.',
                              children: [],
                              payload: { lines: '101,103' },
                            },
                          ],
                          payload: { lines: '100,103', listIndex: 1 },
                        },
                        {
                          content:
                            '2. \n<p data-lines="103,104"><strong>Bloqueo exclusivo</strong>:</p>',
                          children: [
                            {
                              content:
                                'Solicitar bloqueo a todas las localidades con copia del dato.',
                              children: [],
                              payload: { lines: '104,106' },
                            },
                          ],
                          payload: { lines: '103,106', listIndex: 2 },
                        },
                        {
                          content:
                            '3. \n<p data-lines="106,107">Si no se puede atender la solicitud, se pospone.</p>',
                          children: [],
                          payload: { lines: '106,108', listIndex: 3 },
                        },
                      ],
                      payload: { lines: '100,108' },
                    },
                    {
                      content:
                        'Las operaciones de lectura consumen menos tiempo extra.',
                      children: [],
                      payload: { lines: '110,112' },
                    },
                    {
                      content:
                        'Las operaciones de escritura consumen más tiempo extra.',
                      children: [],
                      payload: { lines: '114,116' },
                    },
                  ],
                  payload: { lines: '94,95' },
                },
                {
                  content: '4.1.5. Copia Primaria',
                  children: [
                    {
                      content:
                        'Se elige una <strong>copia primaria</strong> de los datos, que reside en una localidad específica.',
                      children: [],
                      payload: { lines: '120,122' },
                    },
                    {
                      content:
                        '1. Una transacción que necesita bloquear un dato (Q):',
                      children: [
                        {
                          content:
                            'Solicita el bloqueo a la localidad primaria de (Q).',
                          children: [],
                          payload: { lines: '125,126' },
                        },
                        {
                          content:
                            'Si no puede atender la solicitud, esta se pospone.',
                          children: [],
                          payload: { lines: '126,128' },
                        },
                      ],
                      payload: { lines: '124,128', listIndex: 1 },
                    },
                    {
                      content: '',
                      children: [
                        {
                          content: 'Implementación sencilla.',
                          children: [],
                          payload: { lines: '130,131' },
                        },
                        {
                          content:
                            'Manejo unificado del control de concurrencia para datos repetidos y no repetidos.',
                          children: [],
                          payload: { lines: '131,133' },
                        },
                      ],
                      payload: { lines: '130,133' },
                    },
                    {
                      content:
                        'No se puede acceder a (Q) si la localidad primaria falla.',
                      children: [],
                      payload: { lines: '135,136' },
                    },
                  ],
                  payload: { lines: '118,119' },
                },
              ],
              payload: { lines: '7,8' },
            },
          ],
          payload: { lines: '3,4' },
        },
        { colorFreezeLevel: 2 }
      );
    </script>
  </body>
</html>
